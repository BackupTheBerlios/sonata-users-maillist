<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Sonata-users] Variable Artist Question
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/sonata-users/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:sonata-users%40lists.berlios.de?Subject=Re%3A%20%5BSonata-users%5D%20Variable%20Artist%20Question&In-Reply-To=%3C35a6f8e30705102133j54026391sc4071a434c87ff36%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000258.html">
   <LINK REL="Next"  HREF="000265.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Sonata-users] Variable Artist Question</H1>
    <B>Scott Horowitz</B> 
    <A HREF="mailto:sonata-users%40lists.berlios.de?Subject=Re%3A%20%5BSonata-users%5D%20Variable%20Artist%20Question&In-Reply-To=%3C35a6f8e30705102133j54026391sc4071a434c87ff36%40mail.gmail.com%3E"
       TITLE="[Sonata-users] Variable Artist Question">stonecrest at gmail.com
       </A><BR>
    <I>Fri May 11 06:33:39 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000258.html">[Sonata-users] Variable Artist Question
</A></li>
        <LI>Next message: <A HREF="000265.html">[Sonata-users] Variable Artist Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#259">[ date ]</a>
              <a href="thread.html#259">[ thread ]</a>
              <a href="subject.html#259">[ subject ]</a>
              <a href="author.html#259">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/10/07, Steve Greenland &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/sonata-users">steveg at moregruel.net</A>&gt; wrote:
&gt;<i> I'll note that you already have all the required info from MPD. If I
</I>&gt;<i> wrote a patch to implement this, and it wasn't slow or piggy, would you
</I>&gt;<i> consider it? I'm not asking for a promise, obviously it would depend on
</I>&gt;<i> the result of the implementation.
</I>
I think you'll find that Sonata doesn't have all of the required info
from MPD. It retrieves only the minimal  information needed o display
the library. For example, for the top level of the artist view, it
only retrieves the listing of artists.

There are a few ways to implement what you're wanting. What you might
expect to do is to retrieve a listing of albums followed by a listing
of artists for each album. I just implemented this quickly as a test,
it took 2 seconds on my p3 1.2ghz machine for 3000 songs compared to
instantaneous for the current Sonata implementation. Even worse, the
results aren't what we want because mpd's list() command is case
sensitive.

Therefore we have to use search() for the album and retrieve entire
song information. In effect, you're getting information for every last
song in the user's library now, which will be much slower than the
above 2 seconds. Alternatively, instead of doing the individual
search() calls to mpd, you could just do a listallinfo() and parse
through everything yourself, but doing so will be slow in python.

Certainly I would consider a patch if you see something that I'm
overlooking because I agree it would be a nice feature.

&gt;<i> Also, would you take (consider) a patch that &quot;fixed&quot; sorting to ignore
</I>&gt;<i> initial &quot;A&quot;, &quot;The&quot;, and such? (So that &quot;The Beatles&quot; sorts under B, not
</I>&gt;<i> T). Likewise, one that ignored common first names, so that &quot;Joe Henry&quot;
</I>&gt;<i> sorts under H, not J.
</I>
I'm not so crazy about this, personally. Especially not the latter
part of hard-coding in common first names...

Scott

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000258.html">[Sonata-users] Variable Artist Question
</A></li>
	<LI>Next message: <A HREF="000265.html">[Sonata-users] Variable Artist Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#259">[ date ]</a>
              <a href="thread.html#259">[ thread ]</a>
              <a href="subject.html#259">[ subject ]</a>
              <a href="author.html#259">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/sonata-users">More information about the Sonata-users
mailing list</a><br>
</body></html>
